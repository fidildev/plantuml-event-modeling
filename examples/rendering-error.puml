@startuml
!include_once ../event-modeling-lib.iuml

$enableAutoAlias()
$enableAutoSpacing()

$configureWireframeLane(Automation)
$configureWireframeLane(Client)

$configureEventLane(Subscription,  $context = "Subscription")

' Command to create subscription with fields
$command("CreateSubscription", $fields = "customerId: UUID\nproductId: UUID\nquantity: int\nstartDate: Date")

' Policy invariant between command and event
$policy("CreateSubscriptionPolicy")

' Event produced by command with fields
$event("SubscriptionCreated", Subscription, $fields = "subscriptionId: UUID\ncustomerId: UUID\nproductId: UUID\nquantity: int\nstartDate: Date\ncreatedAt: DateTime")

' Event updates view with fields
$view("Subscriptions View", $fields = "subscriptionId\ncustomerName\nproductName\nquantity\nstartDate\nstatus")

' View displayed on UI
$wireframe("Subscription Screen", Client)

$renderEventModelingDiagram()

@enduml
